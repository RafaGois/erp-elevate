---
description: ERP Elevate project stack - dependency versions and best practices
globs: **/*
alwaysApply: true
---
# ERP Elevate Project Stack

This document describes the project dependencies, their versions, and recommended best practices.

## Project Metadata

- **Node.js:** >= 24.13.0 (engines)
- **Build:** `next build --webpack` (Turbopack only in dev)
- **Lint:** `next lint`

---

## Core Framework

### Next.js ^16.1.6
- App Router as default
- Turbopack in dev (`next dev --turbopack`)

**Best practices:**
- Keep Server Components as default; Client Components small and event-driven
- Use `"use client"` only when needed (events, hooks, animations)
- Metadata API in App Router for SEO
- Validate Server Actions inputs with Zod
- For images: prefer `fill` + `sizes` and preconnect for critical domains

### React ^19.2.3
- React DOM ^19.2.3

**Best practices:**
- Avoid redundant `React.memo`, `useMemo`, `useCallback` (React Compiler optimizes)
- Prefer Actions (async in transitions) for forms and mutations
- `useOptimistic` for immediate feedback on mutations
- `use()` for context in async components

---

## Styling

### Tailwind CSS ^4
- `@tailwindcss/postcss` ^4
- `tw-animate-css` ^1.3.6

**Best practices:**
- CSS-first configuration: use `@import "tailwindcss"` and `@theme` instead of `tailwind.config.js`
- Design tokens via `@theme` (colors, spacing, typography)
- Native container queries (no plugin needed)
- Use `@apply` sparingly; prefer utility classes
- Avoid excessive `will-change`; use only for critical animations

### Class utilities
- `tailwind-merge` ^3.3.1
- `clsx` ^2.1.1
- `class-variance-authority` ^0.7.1

**Best practices:**
- Use `cn()` (clsx + tailwind-merge) to combine classes conditionally

---

## UI & Components

### Radix UI (headless)
- `@radix-ui/react-dialog` ^1.1.14
- `@radix-ui/react-select` ^2.2.6
- `@radix-ui/react-dropdown-menu` ^2.1.15
- `@radix-ui/react-popover` ^1.1.14
- `@radix-ui/react-tooltip` ^1.2.7
- `@radix-ui/react-switch` ^1.2.6
- `@radix-ui/react-label` ^2.1.8
- `@radix-ui/react-checkbox` ^1.3.2
- `@radix-ui/react-collapsible` ^1.1.11
- `@radix-ui/react-separator` ^1.1.8
- `@radix-ui/react-avatar` ^1.1.10
- `@radix-ui/react-alert-dialog` ^1.1.14
- `@radix-ui/react-slot` ^1.2.4

**Best practices:**
- Radix components are headless; style via Tailwind in wrappers
- Accessibility is built-in; preserve ARIA attributes when customizing

### Base UI ^1.1.0
- Alternative headless components

### shadcn/ui (via Radix + CVA)
- Default: `cmdk` ^1.1.1 for command palette

### Icons
- `lucide-react` ^0.525.0
- `icons-react` ^3.7.1

### Other UI
- `sonner` ^2.0.6 — toasts
- `next-themes` ^0.4.6 — dark mode
- `recharts` ^2.15.0 — charts
- `react-day-picker` ^9.8.0 — date picker

---

## Animations

### GSAP ^3.13.0
- `@gsap/react` ^2.1.2
- Plugins: ScrollTrigger, SplitText (gsap-trial ^3.13.0)

**Best practices:**
- Register plugins once in the app (e.g., in layout or root module)
- Use `useGSAP` with `{ scope: container }` for automatic cleanup
- **Never** use `ScrollTrigger.getAll().forEach(t => t.kill())` — kills global triggers and causes crashes
- SplitText: avoid in sections with complex scroll (Lenis, etc.); causes heavy reflow
- Parallax with mousemove: only run when section is visible; use `requestAnimationFrame` with throttling

### Framer Motion / Motion ^12.23.12
- `framer-motion` and `motion` (same lib)

**Best practices:**
- Prefer CSS animations when possible (smaller bundle, better performance)
- For layout animations: use `layout` and `layoutId` carefully in large lists

### Lenis ^1.3.8
- Smooth scroll

**Best practices:**
- Integrate with GSAP: `lenis.on("scroll", ScrollTrigger.update)` and `gsap.ticker.add()`
- Cleanup: call `lenis.destroy()` on unmount

---

## Forms & Validation

### React Hook Form ^7.60.0
- `@hookform/resolvers` ^5.1.1
- `zod` ^3.25.75

**Best practices:**
- Zod resolver for type-safe validation
- `useForm` with typed `defaultValues`
- For selects/inputs in side-by-side grid: use `min-w-0` and `w-full` to prevent overflow

---

## Data & API

### TanStack Query ^5.81.5
- `@tanstack/react-query`

**Best practices:**
- Use single object: `{ queryKey, queryFn }` in `useQuery`
- `queryOptions()` for better TypeScript and reuse
- Invalidation after mutations: `invalidateQueries({ queryKey })`
- Prefer `refetchOnMount: "always"` only where needed

### Axios ^1.10.0
- Custom instance with interceptors (auth, 401 redirect)

**Best practices:**
- Centralize in `src/lib/api.ts` with baseURL and headers

---

## Auth & Utilities

### @react-oauth/google ^0.12.2
- Google login

### js-cookie ^3.0.5
- Cookies with `path: "/"` for global availability

### Other
- `date-fns` ^4.1.0 — dates (prefer over moment)
- `moment` ^2.30.1 — legacy; migrate to date-fns where possible
- `uuid` ^11.1.0
- `http-errors` ^2.0.0

---

## Media & 3D

### next-cloudinary ^6.16.0
- Optimized images via Cloudinary

### @react-three/fiber ^9.3.0
- Three.js in React
- `simplex-noise` ^4.0.3 — procedural noise

---

## Dev Dependencies

| Package | Version | Purpose |
|---------|---------|---------|
| TypeScript | ^5 | Typing |
| ESLint | ^9 | Lint |
| eslint-config-next | 15.4.6 | Next rules |
| @types/node | ^24 | Node types |
| @types/react / react-dom | ^19 | React 19 types |
| @types/axios | ^0.14.4 | Axios types |
| @types/js-cookie | ^3.0.6 | js-cookie types |

---

## Performance Checklist

1. **Server Components** by default; minimal Client Components
2. **Images** with `next/image` or `next-cloudinary`; define `sizes`
3. **GSAP** without SplitText in sections with Lenis; ScrollTrigger with `once: true` when possible
4. **Tailwind** without excessive `@apply`; design tokens in `@theme`
5. **React Query** with appropriate `staleTime` and `gcTime`; avoid unnecessary refetch
